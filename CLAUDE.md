# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is the **Konnected Web Installer** - a web-based firmware installer and debug console for Konnected IoT devices. It uses [ESP Web Tools](https://esphome.github.io/esp-web-tools/) to flash firmware directly from the browser.

Live site: https://install.konnected.io

## Architecture

- **Static website** hosted on AWS S3 with CloudFront CDN
- **No build system** - plain HTML, CSS, and vanilla JavaScript (with jQuery)
- Pushes to `main` branch automatically deploy via GitHub Actions workflow

### Key Files

- `index.html` - Main firmware installer page with hardware/firmware selection UI
- `wifi.html` - Improv Wi-Fi setup page for Bluetooth LE provisioning
- `manifests/` - ESP Web Tools manifest JSON files that define firmware builds and binary paths (these are generated by firmware build scripts and are NOT committed to this repo)
- `js/` - Minified Improv Wi-Fi provisioning scripts
- `assets/` - Images and logos

### Supported Hardware

1. **6-zone Alarm Panel** (ESP8266) - ESPHome or Legacy NodeMCU firmware
2. **Alarm Panel Pro** (ESP32) - ESPHome, Legacy, or Matter firmware; multiple ethernet chip variants
3. **GDO White** (v1/v2) - ESPHome, Matter, or Legacy firmware
4. **GDO blaQ** - ESPHome, Matter, or HomeKit firmware

### Manifest Files

ESP Web Tools manifests (JSON) define firmware builds with chip family and binary paths. Referenced via `data-manifest` attributes on radio inputs in `index.html`. Some manifests point to external firmware binaries (not in this repo).

## Deployment

Automatic deployment on push to `main`:
1. GitHub Actions copies files to S3 bucket `install-konnected`
2. CloudFront cache is invalidated

No manual build or deploy commands needed.
